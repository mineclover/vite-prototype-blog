---
date: 2023-03-13
modified: 2023-05-14
---

[vite-glob-react](../../../work/vite/vite-glob-react) 의 일환이다

일단 임시로 , 전체 path 를 경로에 넣어둔 상태다

나는 상단 메뉴들의 경로 .. 즉  
/front 같은 대분류 페이지와

각 폴더들의 폴더인  
learn/:post 의 index 가 필요한 상태다

그래서 나는  
category/subject/post 로 가는 것에서  
categroy 는 subject 의 리스트를  
subject 는 footer 에 게시판 바로가기을 추가하고  
"" 일때는 인덱스가 나올 영역을  
그외 나머지 일 때는  
post 가 나올 영역을 지정하기로 했다

그러기 위해서 일단 카테고리와 subject 를 만든 상황이긴 한데  
카테고리에 subject 가 들어간 상태여서

- category
  - subject
    - post
    - index
  - index
- index  
  로 된 객체가 필요해졌다

## 리액트 라우터 적용된 것 확인하기

```tsx
function getChildren(children: any) {
  return children.map((child: any) => {
    if (child.children) {
      return { path: child.path, children: getChildren(child.children) };
    }
    return { path: child.path };
  });
}
```

## 라우팅은 위에 먼저 인식되는 것으로 페이지가 진입된다

그래서 우선 컴포넌트를 최상위에 두고  
그 다음에 마크다운을 인식하게 하였음 ( routeMapping )

- 마크다운 로드맵의 구조 위에 컴포넌트를 끼얹는 방식이 최소 로직일 것으로 보임
- 슬라이스에 넣자

```tsx
const router = createBrowserRouter(
  createRoutesFromElements(
    <Route path="/*" element={<Header />}>
      <Route path="" element={<Root />} />
      <Route path="learn" element={<Learn />}>
        {components.map(({ path, component: Component }) => {
          return <Route key={path} path={path} element={<Component />} />;
        })}
        {Object.keys(routeMapping).map((aItem) => {
          // front , back , etc
          return (
            <Route key={aItem} path={aItem} element={<Root />}>
              {Object.keys(routeMapping[aItem]).map((bItem) => {
                // react, node, etc

                return (
                  <Route
                    key={bItem}
                    path={bItem}
                    element={<Navigate to={`learn/${aItem}`} replace />}
                  />
                );
              })}
            </Route>
          );
        })}
        <Route path="*" element={<Navigate to="/404" replace />} />
      </Route>
      <Route path="dashboard/:moc" element={<Dashboard />} />
      <Route path="indexing" element={<IndexPage />} />
      <Route path="404" element={<NotFound />} />
      <Route path="*" element={<Navigate to="/404" replace />} />
    </Route>
  )
);
```
